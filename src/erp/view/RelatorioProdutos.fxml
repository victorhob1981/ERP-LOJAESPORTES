<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx/19" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="erp.controller.RelatorioProdutosController" 
            prefHeight="820" prefWidth="1200" 
            style="-fx-background-color: #f4f7fa;">

    <top>
        <HBox alignment="CENTER_LEFT" spacing="12" 
              style="-fx-background-color: white; -fx-background-radius: 6; -fx-padding: 12 16 12 16; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.04), 6, 0, 0, 2);">
            <children>
                <Label style="-fx-font-size:22px;" text="ðŸ“Š" />
                <Label style="-fx-font-size:20px; -fx-font-weight:bold; -fx-text-fill:#2c3e50;" text="RelatÃ³rio de Produtos" />
                <Region HBox.hgrow="ALWAYS" />

                <Label style="-fx-font-weight:bold; -fx-text-fill:#34495e;" text="PerÃ­odo:" />
                <DatePicker fx:id="dpDataInicio" />
                <Label style="-fx-text-fill:#34495e;" text="atÃ©" />
                <DatePicker fx:id="dpDataFim" />

                <Label style="-fx-font-weight:bold; -fx-text-fill:#34495e;" text="Clube:" />
                <ComboBox fx:id="cbClube" prefWidth="180" promptText="Selecione Clube" />

                <Label style="-fx-font-weight:bold; -fx-text-fill:#34495e;" text="Categoria:" />
                <ComboBox fx:id="cbCategoria" prefWidth="160" promptText="Selecione Categoria" />

                <Button fx:id="btnGerarRelatorio" onAction="#atualizarRelatorio" 
                        style="-fx-background-color:#3498db; -fx-text-fill:white; -fx-font-weight:bold; -fx-background-radius:8; -fx-padding:8 16 8 16;" 
                        text="Gerar RelatÃ³rio" />
            </children>
        </HBox>
    </top>

    <center>
        <VBox spacing="18" style="-fx-padding: 18;">
            <children>
                <GridPane hgap="14" vgap="12">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="20" />
                        <ColumnConstraints percentWidth="20" />
                        <ColumnConstraints percentWidth="20" />
                        <ColumnConstraints percentWidth="20" />
                        <ColumnConstraints percentWidth="20" />
                    </columnConstraints>
                    <children>
                        <VBox fx:id="cardTotalVendidos" alignment="CENTER_LEFT" spacing="8" style="-fx-background-color: white; -fx-background-radius: 8; -fx-padding:14; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 8, 0, 0, 2); -fx-border-color:#27ae60; -fx-border-width:0 0 0 4;">
                            <children>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label style="-fx-font-size:18;" text="ðŸ›’" />
                                    <Label fx:id="lblTituloTotalVendidos" style="-fx-font-size:13; -fx-font-weight:bold; -fx-text-fill:#7f8c8d;" text="PEÃ‡AS VENDIDAS" />
                                </HBox>
                                <Label fx:id="lblTotalVendidos" style="-fx-font-size:30; -fx-font-weight:bold; -fx-text-fill:#27ae60;" text="0" />
                            </children>
                        </VBox>

                        <VBox fx:id="cardTotalEstoque" alignment="CENTER_LEFT" spacing="8" style="-fx-background-color: white; -fx-background-radius: 8; -fx-padding:14; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 8, 0, 0, 2); -fx-border-color:#e67e22; -fx-border-width:0 0 0 4;" GridPane.columnIndex="1">
                            <children>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label style="-fx-font-size:18;" text="ðŸ“¦" />
                                    <Label fx:id="lblTituloTotalEstoque" style="-fx-font-size:13; -fx-font-weight:bold; -fx-text-fill:#7f8c8d;" text="TOTAL EM ESTOQUE" />
                                </HBox>
                                <Label fx:id="lblTotalEstoque" style="-fx-font-size:30; -fx-font-weight:bold; -fx-text-fill:#e67e22;" text="0" />
                            </children>
                        </VBox>

                        <VBox fx:id="cardClubeMaisVendido" alignment="CENTER_LEFT" spacing="8" style="-fx-background-color: white; -fx-background-radius: 8; -fx-padding:14; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 8, 0, 0, 2); -fx-border-color:#c0392b; -fx-border-width:0 0 0 4;" GridPane.columnIndex="2">
                            <children>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label style="-fx-font-size:18;" text="ðŸ†" />
                                    <Label fx:id="lblTituloClubeMaisVendido" style="-fx-font-size:13; -fx-font-weight:bold; -fx-text-fill:#7f8c8d;" text="CLUBE MAIS VENDIDO" />
                                </HBox>
                                <Label fx:id="lblClubeMaisVendido" style="-fx-font-size:22; -fx-font-weight:bold; -fx-text-fill:#c0392b;" text="-" />
                            </children>
                        </VBox>

                        <VBox fx:id="cardTamanhoMaisVendido" alignment="CENTER_LEFT" spacing="8" style="-fx-background-color: white; -fx-background-radius: 8; -fx-padding:14; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 8, 0, 0, 2); -fx-border-color:#8e44ad; -fx-border-width:0 0 0 4;" GridPane.columnIndex="3">
                            <children>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label style="-fx-font-size:18;" text="ðŸ“" />
                                    <Label fx:id="lblTituloTamanhoMaisVendido" style="-fx-font-size:13; -fx-font-weight:bold; -fx-text-fill:#7f8c8d;" text="TAMANHO MAIS VENDIDO" />
                                </HBox>
                                <Label fx:id="lblTamanhoMaisVendido" style="-fx-font-size:30; -fx-font-weight:bold; -fx-text-fill:#8e44ad;" text="-" />
                            </children>
                        </VBox>

                        <VBox fx:id="cardProdutosUnicos" alignment="CENTER_LEFT" spacing="8" style="-fx-background-color: white; -fx-background-radius: 8; -fx-padding:14; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 8, 0, 0, 2); -fx-border-color:#2980b9; -fx-border-width:0 0 0 4;" GridPane.columnIndex="4">
                            <children>
                                <HBox alignment="CENTER_LEFT" spacing="10">
                                    <Label style="-fx-font-size:18;" text="ðŸ”¢" />
                                    <Label fx:id="lblTituloProdutosUnicos" style="-fx-font-size:13; -fx-font-weight:bold; -fx-text-fill:#7f8c8d;" text="ITENS ÃšNICOS" />
                                </HBox>
                                <Label fx:id="lblProdutosUnicos" style="-fx-font-size:30; -fx-font-weight:bold; -fx-text-fill:#2980b9;" text="0" />
                            </children>
                        </VBox>
                    </children>
                </GridPane>

                <GridPane hgap="14" vgap="12">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="50" />
                        <ColumnConstraints percentWidth="50" />
                    </columnConstraints>
                    <children>
                        <VBox style="-fx-background-color:white; -fx-background-radius:8; -fx-padding:16; -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.04), 8, 0, 0, 2);" GridPane.columnIndex="0">
                            <children>
                                <Label style="-fx-font-size:15; -fx-font-weight:bold; -fx-text-fill:#2c3e50;" text="Vendas por Clube" />
                                <BarChart fx:id="graficoVendasClube" prefHeight="280">
                                    <xAxis><CategoryAxis /></xAxis>
                                    <yAxis><NumberAxis /></yAxis>
                                </BarChart>
                            </children>
                        </VBox>

                        <VBox spacing="12" GridPane.columnIndex="1">
                           <children>
                              <VBox style="-fx-background-color:white; -fx-background-radius:8; -fx-padding:12; -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.04), 8, 0, 0, 2);">
                                 <children>
                                      <Label style="-fx-font-size:15; -fx-font-weight:bold; -fx-text-fill:#2c3e50;" text="Vendas por Tamanho" />
                                      <BarChart fx:id="graficoVendasTamanho" prefHeight="130">
                                          <xAxis><CategoryAxis /></xAxis>
                                          <yAxis><NumberAxis /></yAxis>
                                      </BarChart>
                                 </children>
                              </VBox>
                              <VBox style="-fx-background-color:white; -fx-background-radius:8; -fx-padding:12; -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.04), 8, 0, 0, 2);">
                                 <children>
                                      <Label style="-fx-font-size:15; -fx-font-weight:bold; -fx-text-fill:#2c3e50;" text="Estoque por Tamanho" />
                                      <BarChart fx:id="graficoEstoqueTamanho" prefHeight="130">
                                          <xAxis><CategoryAxis /></xAxis>
                                          <yAxis><NumberAxis /></yAxis>
                                      </BarChart>
                                 </children>
                              </VBox>
                           </children>
                        </VBox>
                    </children>
                </GridPane>

                <VBox spacing="10" style="-fx-background-color:white; -fx-background-radius:8; -fx-padding:16; -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.03), 6, 0, 0, 2);" VBox.vgrow="ALWAYS">
                    <children>
                        <Label style="-fx-font-size:16; -fx-font-weight:bold; -fx-text-fill:#2c3e50;" text="Estoque Detalhado" />
                        <TableView fx:id="tblEstoqueDetalhado" prefHeight="320" VBox.vgrow="ALWAYS">
                            <columns>
                                <TableColumn fx:id="colClube" prefWidth="140" text="Clube" />
                                <TableColumn fx:id="colModelo" prefWidth="240" text="Modelo" />
                                <TableColumn fx:id="colTipo" prefWidth="120" text="Tipo" />
                                <TableColumn fx:id="colP" prefWidth="60" text="P" />
                                <TableColumn fx:id="colM" prefWidth="60" text="M" />
                                <TableColumn fx:id="colG" prefWidth="60" text="G" />
                                <TableColumn fx:id="colGG" prefWidth="60" text="GG" />
                                <TableColumn fx:id="col2GG" prefWidth="60" text="2GG" />
                                <TableColumn fx:id="col3GG" prefWidth="60" text="3GG" />
                                <TableColumn fx:id="col4GG" prefWidth="60" text="4GG" />
                                <TableColumn fx:id="colTotal" prefWidth="90" text="Total" />
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                            </columnResizePolicy>
                        </TableView>
                    </children>
                </VBox>
            </children>
        </VBox>
    </center>
</BorderPane>